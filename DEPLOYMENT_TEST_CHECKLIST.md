# 部署测试清单 - 2026-01-17

## 测试环境

- **网站**: https://www.quantaureum.com
- **部署**: 2aa82a2
- **测试账号**:
  - aurum51668@outlook.com / TestPass2026!
  - 1317874966@qq.com / QQTest2026!

---

## 🔴 高优先级测试（必须立即测试）

### 1. 帖子详情页（刚修复）

**测试目标**: 验证 60 秒超时问题是否已解决

#### 测试步骤：

1. [ ] 访问社区首页 https://www.quantaureum.com/community
2. [ ] 点击任意帖子标题
3. [ ] **关键检查**: 页面是否在 3 秒内加载完成？
4. [ ] 检查帖子内容是否正常显示
5. [ ] 检查作者信息是否显示
6. [ ] 检查浏览数、点赞数、评论数是否显示
7. [ ] 滚动到评论区，检查评论列表是否显示

#### 预期结果：

- ✅ 页面快速加载（< 3 秒）
- ✅ 所有内容正常显示
- ✅ 无超时错误

#### 如果失败：

- 记录错误信息
- 检查浏览器控制台
- 需要进一步调试

---

### 2. 评论功能（依赖帖子详情页）

**测试目标**: 验证评论系统是否正常工作

#### 测试步骤（需要登录）：

1. [ ] 登录账号 aurum51668@outlook.com
2. [ ] 访问任意帖子详情页
3. [ ] 在评论框输入测试内容："测试评论功能 - 2026-01-17"
4. [ ] 点击"发表评论"按钮
5. [ ] **关键检查**: 评论是否立即出现在列表顶部？
6. [ ] 检查评论数量是否 +1
7. [ ] 刷新页面，检查评论是否保存

#### 预期结果：

- ✅ 评论成功发表
- ✅ 评论立即显示
- ✅ 评论数量更新
- ✅ 刷新后评论仍存在

---

### 3. 点赞功能（依赖帖子详情页）

**测试目标**: 验证点赞系统是否正常工作

#### 测试步骤（需要登录）：

1. [ ] 在帖子详情页，点击帖子的点赞按钮（心形图标）
2. [ ] **关键检查**: 按钮是否变红？点赞数是否 +1？
3. [ ] 再次点击点赞按钮（取消点赞）
4. [ ] **关键检查**: 按钮是否变回灰色？点赞数是否 -1？
5. [ ] 点赞一条评论
6. [ ] 检查评论点赞数是否更新

#### 预期结果：

- ✅ 点赞/取消点赞立即生效
- ✅ UI 状态正确更新
- ✅ 数量准确显示

---

### 4. 通知系统（刚实现）

**测试目标**: 验证通知功能是否正常工作

#### 测试步骤 A - 查看通知页面：

1. [ ] 登录账号
2. [ ] 点击导航栏的铃铛图标
3. [ ] **关键检查**: 通知页面是否正常加载？
4. [ ] 检查是否显示"暂无通知"或通知列表
5. [ ] 如果有通知，检查通知内容是否正确显示

#### 测试步骤 B - 导航栏未读数量：

1. [ ] 检查导航栏铃铛图标
2. [ ] **关键检查**: 是否显示未读数量徽章？
3. [ ] 如果没有未读通知，徽章应该不显示
4. [ ] 等待 30 秒，检查是否自动刷新

#### 测试步骤 C - 标记已读：

1. [ ] 如果有未读通知，点击通知上的 ✓ 图标
2. [ ] **关键检查**: 通知是否变为已读状态？
3. [ ] 检查未读数量是否 -1
4. [ ] 点击"全部标为已读"按钮
5. [ ] 检查所有通知是否变为已读

#### 测试步骤 D - 删除通知：

1. [ ] 点击通知上的垃圾桶图标
2. [ ] **关键检查**: 通知是否从列表中消失？

#### 预期结果：

- ✅ 通知页面正常加载
- ✅ 未读数量正确显示
- ✅ 标记已读功能正常
- ✅ 删除功能正常
- ✅ 自动刷新功能正常

#### 已知限制：

- ⚠️ 目前没有自动创建通知的逻辑
- ⚠️ 需要手动在数据库中创建测试通知
- ⚠️ 或者等待实现通知触发逻辑

---

## 🟡 中优先级测试

### 5. 搜索功能

**测试目标**: 验证搜索是否正常工作

#### 测试步骤：

1. [ ] 在导航栏搜索框输入关键词（如"测试"）
2. [ ] 按回车或点击搜索
3. [ ] **关键检查**: 是否跳转到搜索结果页？
4. [ ] 检查是否显示搜索结果
5. [ ] 点击"帖子"标签页
6. [ ] 点击"用户"标签页
7. [ ] 检查标签页切换是否正常

#### 预期结果：

- ✅ 搜索功能正常
- ✅ 结果正确显示
- ✅ 标签页切换正常

---

### 6. 用户资料页

**测试目标**: 验证用户资料功能

#### 测试步骤：

1. [ ] 点击帖子作者头像或名字
2. [ ] 检查用户资料页是否正常加载
3. [ ] 检查关注/取消关注按钮是否正常
4. [ ] 检查关注者/关注中列表是否正常

---

## 🟢 低优先级测试

### 7. 论坛浏览

1. [ ] 访问不同分类
2. [ ] 检查帖子列表是否正常显示
3. [ ] 检查分页是否正常

### 8. 用户资料编辑

1. [ ] 访问 /community/settings/profile
2. [ ] 编辑资料
3. [ ] 保存并检查是否更新

---

## 测试结果记录

### 帖子详情页

- **状态**: ⏳ 待测试
- **加载时间**: \_\_\_ 秒
- **问题**:
- **截图**:

### 评论功能

- **状态**: ⏳ 待测试
- **问题**:
- **截图**:

### 点赞功能

- **状态**: ⏳ 待测试
- **问题**:
- **截图**:

### 通知系统

- **状态**: ⏳ 待测试
- **问题**:
- **截图**:

### 搜索功能

- **状态**: ⏳ 待测试
- **问题**:
- **截图**:

---

## 如果发现问题

### 帖子详情页仍然超时

**可能的解决方案**:

1. 检查 Vercel 函数日志
2. 检查数据库连接
3. 考虑添加更多错误日志
4. 可能需要改为纯客户端渲染

### 通知系统无数据

**这是正常的**:

- 目前没有自动创建通知的逻辑
- 需要手动在数据库创建测试数据
- 或者实现通知触发逻辑

### 其他问题

- 记录详细的错误信息
- 检查浏览器控制台
- 检查网络请求
- 提供截图

---

## 测试完成后的下一步

### 如果所有测试通过

✅ 继续实现通知触发逻辑

- 评论时创建通知
- 点赞时创建通知
- 关注时创建通知

### 如果帖子详情页仍有问题

❌ 优先修复帖子详情页

- 查看 Vercel 日志
- 添加更多调试信息
- 考虑重构页面

### 如果其他功能有问题

⚠️ 根据严重程度决定

- 严重问题：立即修复
- 小问题：记录并稍后修复

---

## 测试建议

1. **按顺序测试** - 从高优先级到低优先级
2. **记录详细信息** - 包括错误信息、截图、时间
3. **使用两个账号** - 测试互动功能（关注、评论等）
4. **清除缓存** - 如果遇到奇怪的问题
5. **检查控制台** - 查看是否有 JavaScript 错误

---

## 快速测试命令

如果需要快速测试 API：

```bash
# 测试帖子详情 API
curl "https://www.quantaureum.com/api/v2/barong/public/community/post-detail?postId=1"

# 测试通知 API
curl "https://www.quantaureum.com/api/v2/barong/public/community/notifications?userId=aurum51668@outlook.com&limit=10"

# 测试搜索 API
curl "https://www.quantaureum.com/api/v2/barong/public/community/search?q=test"
```

---

## 联系方式

如果测试过程中遇到问题，请提供：

1. 具体的错误信息
2. 浏览器控制台截图
3. 网络请求截图
4. 操作步骤

我会立即协助解决！
